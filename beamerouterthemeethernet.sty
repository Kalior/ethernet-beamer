\usetikzlibrary{decorations.pathreplacing}

\mode<presentation>

% Frame title
\defbeamertemplate*{frametitle}{ethernet}[1][] {
  \vskip1cm%

  \begin{beamercolorbox}[wd=\paperwidth, ht=1.2cm]{frametitle}
    \begin{tikzpicture}
      \useasboundingbox[fill=white] (0,0) rectangle(\the\paperwidth, 1.2);

      \draw[very thick, EthernetOrange, decorate,decoration={brace,amplitude=4pt},xshift=-6pt,yshift=12pt] (2,0) -- (2,1.2);
      \draw[very thick, EthernetOrange, decorate,decoration={brace,amplitude=4pt,mirror,raise=6pt},yshift=12pt] (10.84,0) -- (10.84,1.2);
      \ifx\insertframesubtitle\@empty {
        \node[anchor=west, EthernetBlack, font=\large] at (2.8, 1.01) {\insertframetitle};
      }
      \else {
        \node[anchor=west, EthernetBlack, font=\large] at (2.8, 1.31) {\insertframetitle};
        \node[anchor=west, EthernetBlack, font=\small] at (2.8, 0.71) {\insertframesubtitle};
      }
      \fi
    \end{tikzpicture}
  \end{beamercolorbox}
}

% Text frame
\defbeamertemplate{frametitle}{transition}{%
  \begin{minipage}{\textwidth}
    \ifx\insertframesubtitle\@empty {
        \vspace{0.47\paperheight}
    }
    \else {
        \vspace{0.4\paperheight}
    }
    \fi
    \color{EthernetBlack}
    {\usebeamerfont{transition}\insertframetitle}\\
    {\usebeamerfont{transitionsub}\insertframesubtitle}
  \end{minipage}
}

% Text frame
\defbeamertemplate{frametitle}{image}{
  \hspace{-4em}
}

\defbeamertemplate*{footline}{ethernet}{
  \ifnum\thepage>1\relax
  \vspace{-0.1\paperheight}
  \hspace{-2ex}
  \hbox{
    \begin{beamercolorbox}[wd=0.8\paperwidth,ht=2.3ex,left,dp=2.3ex,leftskip=2ex]{footline}
      \insertinstitute
    \end{beamercolorbox}
    \hspace{-3ex}
    \begin{beamercolorbox}[wd=0.3\paperwidth,ht=2.3ex,right,dp=2.3ex,rightskip=13ex]{footline}
      \insertframenumber/\inserttotalframenumber
    \end{beamercolorbox}
    }
  \fi
}

\defbeamertemplate{footline}{empty}{
  \hfill
}

\setbeamertemplate{navigation symbols}{}

\BeforeBeginEnvironment{frame}{%
  \setbeamertemplate{frametitle}[ethernet]%
  \setbeamertemplate{footline}[ethernet]%
}
\makeatletter
\define@key{beamerframe}{transition}[true]{%
  \setbeamertemplate{frametitle}[transition]%
  \setbeamertemplate{footline}[empty]%
}
\define@key{beamerframe}{image}[true]{%
  \setbeamertemplate{frametitle}[image]%
  \setbeamertemplate{footline}[ethernet]%
}
\define@key{beamerframe}{contact}[true]{%
  \setbeamertemplate{frametitle}[image]%
  \setbeamertemplate{footline}[empty]%
}
\makeatother


\mode<all>
